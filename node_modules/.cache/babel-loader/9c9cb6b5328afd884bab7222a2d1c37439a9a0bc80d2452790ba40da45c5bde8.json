{"ast":null,"code":"import React from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Game(){let[diceData,setDiceData]=React.useState([{id:1,value:Math.floor(Math.random()*6)+1},{id:2,value:Math.floor(Math.random()*6)+1},{id:3,value:Math.floor(Math.random()*6)+1},{id:4,value:Math.floor(Math.random()*6)+1},{id:5,value:Math.floor(Math.random()*6)+1},{id:6,value:Math.floor(Math.random()*6)+1},{id:7,value:Math.floor(Math.random()*6)+1},{id:8,value:Math.floor(Math.random()*6)+1},{id:9,value:Math.floor(Math.random()*6)+1},{id:10,value:Math.floor(Math.random()*6)+1}]);let[gameOverCheck,setGameOverCheck]=React.useState(false);function generateRandom(){// console.log(\"button clicked\")\nsetDiceData(oldData=>oldData.map(data=>{if(frozen.includes(data.id)){return data;}return{...data,value:Math.floor(Math.random()*6)+1};}));SetTurns(old=>old+1);}let[turns,SetTurns]=React.useState(0);let[count,setCount]=React.useState(0);let dices=diceData.map(dice=>{return/*#__PURE__*/_jsx(\"button\",{className:\"dice-button\",onClick:event=>{freeze(dice.id,event);},children:dice.value},dice.id);});let[frozen,setFrozen]=React.useState([]);function freeze(id,event){let targetNumberId=frozen[0];let element=diceData.find(item=>item.id===targetNumberId);let targetNumber;if(element){targetNumber=element.value;}console.log(targetNumber);let currentNumberElement=diceData.find(item=>item.id===id);let currentNumber=currentNumberElement.value;console.log(currentNumber);if(frozen.length===0||frozen.length>0&&currentNumber===targetNumber){setFrozen(old=>{return[...old,id];});setCount(oldCount=>oldCount+1);event.target.disabled=\"true\";}let temp;console.log(count);if(count===9){setGameOverCheck(old=>!old);clearInterval(intervalRef.current);temp=seconds;if(bestTime!==0&&temp<bestTime){setBestTime(temp);}else if(bestTime===0){setBestTime(temp);}}}function resetGame(){setCount(0);setGameOverCheck(false);console.log(gameOverCheck);frozen.length=0;setFrozen(oldFrozen=>{return[];});setDiceData(oldData=>{return oldData.map(data=>{return{...data,value:Math.floor(Math.random()*6)+1};});});let buttons=document.querySelectorAll(\".dice-button\");for(let button of buttons){console.log(button);button.disabled=false;}SetTurns(0);setSeconds(0.0);intervalRef.current=setInterval(()=>{setSeconds(old=>old+0.01);},10);}const intervalRef=React.useRef(null);let[seconds,setSeconds]=React.useState(0.0);React.useEffect(()=>{intervalRef.current=setInterval(()=>{setSeconds(old=>old+0.01);},10);},[]);let[bestTime,setBestTime]=React.useState(0);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"stats\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"turns\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Turns taken:\",/*#__PURE__*/_jsx(\"br\",{}),turns]})}),/*#__PURE__*/_jsx(\"div\",{id:\"seconds\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Time:\",/*#__PURE__*/_jsx(\"br\",{}),seconds.toFixed(2)]})}),/*#__PURE__*/_jsx(\"div\",{id:\"best-time\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Best time:\",/*#__PURE__*/_jsx(\"br\",{}),bestTime.toFixed(2)]})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"dice-container\",children:dices}),/*#__PURE__*/_jsx(\"div\",{id:\"roll-button-container\",children:gameOverCheck?/*#__PURE__*/_jsx(\"button\",{onClick:resetGame,className:\"button-roll-reset\",children:\"Reset game\"}):/*#__PURE__*/_jsx(\"button\",{onClick:generateRandom,className:\"button-roll-reset\",children:\"Roll dice\"})})]});}","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Game","diceData","setDiceData","useState","id","value","Math","floor","random","gameOverCheck","setGameOverCheck","generateRandom","oldData","map","data","frozen","includes","SetTurns","old","turns","count","setCount","dices","dice","className","onClick","event","freeze","children","setFrozen","targetNumberId","element","find","item","targetNumber","console","log","currentNumberElement","currentNumber","length","oldCount","target","disabled","temp","clearInterval","intervalRef","current","seconds","bestTime","setBestTime","resetGame","oldFrozen","buttons","document","querySelectorAll","button","setSeconds","setInterval","useRef","useEffect","toFixed"],"sources":["C:/Users/Devik Nangia/Desktop/react/tenzies/src/Game.js"],"sourcesContent":["import React from \"react\"\r\n\r\nexport default function Game(){\r\n    \r\n    let [diceData, setDiceData] = React.useState([\r\n        {\r\n            id: 1,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 2,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 3,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 4,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 5,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 6,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 7,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 8,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 9,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        },\r\n        {\r\n            id: 10,\r\n            value: Math.floor(Math.random() * 6) + 1\r\n        }\r\n    ]);\r\n    \r\n    let [gameOverCheck, setGameOverCheck] = React.useState(false);\r\n\r\n    function generateRandom(){\r\n        // console.log(\"button clicked\")\r\n        setDiceData((oldData) =>\r\n            oldData.map((data) => {\r\n                if(frozen.includes(data.id)){\r\n                    return data\r\n                }\r\n                return {\r\n                    ...data, value: Math.floor(Math.random() * 6) + 1\r\n                }\r\n            })\r\n        )\r\n        SetTurns(old => old + 1)\r\n    }\r\n\r\n    let [turns, SetTurns] = React.useState(0)\r\n\r\n    let [count, setCount] = React.useState(0)\r\n\r\n    let dices = diceData.map((dice) => {\r\n        return <button className = \"dice-button\" key={dice.id} onClick={(event) => {freeze(dice.id, event)}}>{dice.value}</button>\r\n    })\r\n\r\n    let [frozen, setFrozen] = React.useState([])\r\n    \r\n    function freeze(id, event){\r\n        let targetNumberId = frozen[0];\r\n        let element = diceData.find(item => item.id === targetNumberId)\r\n        let targetNumber;\r\n        if(element){\r\n            targetNumber = element.value\r\n        }\r\n        console.log(targetNumber)\r\n        let currentNumberElement = (diceData.find(item => item.id === id))\r\n        let currentNumber = currentNumberElement.value\r\n        console.log(currentNumber)\r\n        if((frozen.length === 0) || (frozen.length > 0 && currentNumber === targetNumber)){\r\n            setFrozen((old) => {\r\n                return [...old, id]\r\n            })\r\n            setCount((oldCount) => oldCount + 1)\r\n            event.target.disabled = \"true\";\r\n        }\r\n\r\n        let temp;\r\n\r\n        console.log(count);\r\n        if(count === 9){\r\n            setGameOverCheck((old) => !old);\r\n            clearInterval(intervalRef.current);\r\n            temp = seconds;\r\n            if(bestTime !== 0 && temp < bestTime){\r\n                setBestTime(temp)\r\n            } else if (bestTime === 0){\r\n                setBestTime(temp)\r\n            }\r\n        }\r\n    }\r\n\r\n    function resetGame(){\r\n        setCount(0)\r\n        setGameOverCheck(false)\r\n        console.log(gameOverCheck)\r\n        frozen.length = 0;\r\n        setFrozen((oldFrozen) => {\r\n            return []\r\n        })\r\n        setDiceData((oldData) => {\r\n            return oldData.map((data) => {\r\n                return {\r\n                    ...data,\r\n                    value: Math.floor(Math.random() * 6) + 1 \r\n                };\r\n            });\r\n        })\r\n        let buttons = document.querySelectorAll(\".dice-button\")\r\n        for(let button of buttons){\r\n            console.log(button);\r\n            button.disabled = false;\r\n        }\r\n        \r\n        SetTurns(0);\r\n        setSeconds(0.0)\r\n        intervalRef.current = setInterval(() => {\r\n            setSeconds((old) => old + 0.01);\r\n        }, 10);\r\n    }\r\n\r\n    const intervalRef = React.useRef(null); \r\n    let [seconds, setSeconds] = React.useState(0.0);\r\n\r\n    React.useEffect(() => {\r\n        intervalRef.current = setInterval(() => {\r\n            setSeconds(old => old + 0.01);\r\n        }, 10);\r\n    }, []);\r\n\r\n    let [bestTime, setBestTime] = React.useState(0);\r\n\r\n    return(\r\n        <div>\r\n            <div id=\"stats\">\r\n                <div id=\"turns\"><span>Turns taken:<br></br>{turns}</span></div> \r\n                <div id=\"seconds\"><span>Time:<br></br>{seconds.toFixed(2)}</span></div> \r\n                <div id=\"best-time\"><span>Best time:<br></br>{bestTime.toFixed(2)}</span></div> \r\n            </div>\r\n            <div id=\"dice-container\">\r\n                {dices}\r\n            </div>\r\n            <div id=\"roll-button-container\">\r\n                {gameOverCheck ? \r\n                <button onClick={resetGame} className = \"button-roll-reset\">Reset game</button> : <button onClick={generateRandom} className = \"button-roll-reset\">Roll dice</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAE,CAE1B,GAAI,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGP,KAAK,CAACQ,QAAQ,CAAC,CACzC,CACIC,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,CAAC,CACLC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACD,CACIJ,EAAE,CAAE,EAAE,CACNC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACJ,CAAC,CAEF,GAAI,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGf,KAAK,CAACQ,QAAQ,CAAC,KAAK,CAAC,CAE7D,QAAS,CAAAQ,cAAcA,CAAA,CAAE,CACrB;AACAT,WAAW,CAAEU,OAAO,EAChBA,OAAO,CAACC,GAAG,CAAEC,IAAI,EAAK,CAClB,GAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI,CAACV,EAAE,CAAC,CAAC,CACxB,MAAO,CAAAU,IAAI,CACf,CACA,MAAO,CACH,GAAGA,IAAI,CAAET,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CACpD,CAAC,CACL,CAAC,CACL,CAAC,CACDS,QAAQ,CAACC,GAAG,EAAIA,GAAG,CAAG,CAAC,CAAC,CAC5B,CAEA,GAAI,CAACC,KAAK,CAAEF,QAAQ,CAAC,CAAGtB,KAAK,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAEzC,GAAI,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,KAAK,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAEzC,GAAI,CAAAmB,KAAK,CAAGrB,QAAQ,CAACY,GAAG,CAAEU,IAAI,EAAK,CAC/B,mBAAO1B,IAAA,WAAQ2B,SAAS,CAAG,aAAa,CAAeC,OAAO,CAAGC,KAAK,EAAK,CAACC,MAAM,CAACJ,IAAI,CAACnB,EAAE,CAAEsB,KAAK,CAAC,EAAE,CAAAE,QAAA,CAAEL,IAAI,CAAClB,KAAK,EAAlEkB,IAAI,CAACnB,EAAsE,CAAC,CAC9H,CAAC,CAAC,CAEF,GAAI,CAACW,MAAM,CAAEc,SAAS,CAAC,CAAGlC,KAAK,CAACQ,QAAQ,CAAC,EAAE,CAAC,CAE5C,QAAS,CAAAwB,MAAMA,CAACvB,EAAE,CAAEsB,KAAK,CAAC,CACtB,GAAI,CAAAI,cAAc,CAAGf,MAAM,CAAC,CAAC,CAAC,CAC9B,GAAI,CAAAgB,OAAO,CAAG9B,QAAQ,CAAC+B,IAAI,CAACC,IAAI,EAAIA,IAAI,CAAC7B,EAAE,GAAK0B,cAAc,CAAC,CAC/D,GAAI,CAAAI,YAAY,CAChB,GAAGH,OAAO,CAAC,CACPG,YAAY,CAAGH,OAAO,CAAC1B,KAAK,CAChC,CACA8B,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC,CACzB,GAAI,CAAAG,oBAAoB,CAAIpC,QAAQ,CAAC+B,IAAI,CAACC,IAAI,EAAIA,IAAI,CAAC7B,EAAE,GAAKA,EAAE,CAAE,CAClE,GAAI,CAAAkC,aAAa,CAAGD,oBAAoB,CAAChC,KAAK,CAC9C8B,OAAO,CAACC,GAAG,CAACE,aAAa,CAAC,CAC1B,GAAIvB,MAAM,CAACwB,MAAM,GAAK,CAAC,EAAMxB,MAAM,CAACwB,MAAM,CAAG,CAAC,EAAID,aAAa,GAAKJ,YAAa,CAAC,CAC9EL,SAAS,CAAEX,GAAG,EAAK,CACf,MAAO,CAAC,GAAGA,GAAG,CAAEd,EAAE,CAAC,CACvB,CAAC,CAAC,CACFiB,QAAQ,CAAEmB,QAAQ,EAAKA,QAAQ,CAAG,CAAC,CAAC,CACpCd,KAAK,CAACe,MAAM,CAACC,QAAQ,CAAG,MAAM,CAClC,CAEA,GAAI,CAAAC,IAAI,CAERR,OAAO,CAACC,GAAG,CAAChB,KAAK,CAAC,CAClB,GAAGA,KAAK,GAAK,CAAC,CAAC,CACXV,gBAAgB,CAAEQ,GAAG,EAAK,CAACA,GAAG,CAAC,CAC/B0B,aAAa,CAACC,WAAW,CAACC,OAAO,CAAC,CAClCH,IAAI,CAAGI,OAAO,CACd,GAAGC,QAAQ,GAAK,CAAC,EAAIL,IAAI,CAAGK,QAAQ,CAAC,CACjCC,WAAW,CAACN,IAAI,CAAC,CACrB,CAAC,IAAM,IAAIK,QAAQ,GAAK,CAAC,CAAC,CACtBC,WAAW,CAACN,IAAI,CAAC,CACrB,CACJ,CACJ,CAEA,QAAS,CAAAO,SAASA,CAAA,CAAE,CAChB7B,QAAQ,CAAC,CAAC,CAAC,CACXX,gBAAgB,CAAC,KAAK,CAAC,CACvByB,OAAO,CAACC,GAAG,CAAC3B,aAAa,CAAC,CAC1BM,MAAM,CAACwB,MAAM,CAAG,CAAC,CACjBV,SAAS,CAAEsB,SAAS,EAAK,CACrB,MAAO,EAAE,CACb,CAAC,CAAC,CACFjD,WAAW,CAAEU,OAAO,EAAK,CACrB,MAAO,CAAAA,OAAO,CAACC,GAAG,CAAEC,IAAI,EAAK,CACzB,MAAO,CACH,GAAGA,IAAI,CACPT,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAC3C,CAAC,CACL,CAAC,CAAC,CACN,CAAC,CAAC,CACF,GAAI,CAAA4C,OAAO,CAAGC,QAAQ,CAACC,gBAAgB,CAAC,cAAc,CAAC,CACvD,IAAI,GAAI,CAAAC,MAAM,GAAI,CAAAH,OAAO,CAAC,CACtBjB,OAAO,CAACC,GAAG,CAACmB,MAAM,CAAC,CACnBA,MAAM,CAACb,QAAQ,CAAG,KAAK,CAC3B,CAEAzB,QAAQ,CAAC,CAAC,CAAC,CACXuC,UAAU,CAAC,GAAG,CAAC,CACfX,WAAW,CAACC,OAAO,CAAGW,WAAW,CAAC,IAAM,CACpCD,UAAU,CAAEtC,GAAG,EAAKA,GAAG,CAAG,IAAI,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CACV,CAEA,KAAM,CAAA2B,WAAW,CAAGlD,KAAK,CAAC+D,MAAM,CAAC,IAAI,CAAC,CACtC,GAAI,CAACX,OAAO,CAAES,UAAU,CAAC,CAAG7D,KAAK,CAACQ,QAAQ,CAAC,GAAG,CAAC,CAE/CR,KAAK,CAACgE,SAAS,CAAC,IAAM,CAClBd,WAAW,CAACC,OAAO,CAAGW,WAAW,CAAC,IAAM,CACpCD,UAAU,CAACtC,GAAG,EAAIA,GAAG,CAAG,IAAI,CAAC,CACjC,CAAC,CAAE,EAAE,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAAC8B,QAAQ,CAAEC,WAAW,CAAC,CAAGtD,KAAK,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAE/C,mBACIJ,KAAA,QAAA6B,QAAA,eACI7B,KAAA,QAAKK,EAAE,CAAC,OAAO,CAAAwB,QAAA,eACX/B,IAAA,QAAKO,EAAE,CAAC,OAAO,CAAAwB,QAAA,cAAC7B,KAAA,SAAA6B,QAAA,EAAM,cAAY,cAAA/B,IAAA,QAAQ,CAAC,CAACsB,KAAK,EAAO,CAAC,CAAK,CAAC,cAC/DtB,IAAA,QAAKO,EAAE,CAAC,SAAS,CAAAwB,QAAA,cAAC7B,KAAA,SAAA6B,QAAA,EAAM,OAAK,cAAA/B,IAAA,QAAQ,CAAC,CAACkD,OAAO,CAACa,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,CAAK,CAAC,cACvE/D,IAAA,QAAKO,EAAE,CAAC,WAAW,CAAAwB,QAAA,cAAC7B,KAAA,SAAA6B,QAAA,EAAM,YAAU,cAAA/B,IAAA,QAAQ,CAAC,CAACmD,QAAQ,CAACY,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,CAAK,CAAC,EAC9E,CAAC,cACN/D,IAAA,QAAKO,EAAE,CAAC,gBAAgB,CAAAwB,QAAA,CACnBN,KAAK,CACL,CAAC,cACNzB,IAAA,QAAKO,EAAE,CAAC,uBAAuB,CAAAwB,QAAA,CAC1BnB,aAAa,cACdZ,IAAA,WAAQ4B,OAAO,CAAEyB,SAAU,CAAC1B,SAAS,CAAG,mBAAmB,CAAAI,QAAA,CAAC,YAAU,CAAQ,CAAC,cAAG/B,IAAA,WAAQ4B,OAAO,CAAEd,cAAe,CAACa,SAAS,CAAG,mBAAmB,CAAAI,QAAA,CAAC,WAAS,CAAQ,CAAC,CACpK,CAAC,EACL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}